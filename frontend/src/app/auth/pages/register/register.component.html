<form [formGroup]="employeeForm" (ngSubmit)="onSubmit()">

  <h2>Regístrate</h2>

  <label for="id">ID (DNI/NIE):</label>
  <input id="id" formControlName="id" type="text" />
  <div *ngIf="employeeForm.get('id')?.touched && employeeForm.get('id')?.invalid" class="error">
    <small *ngIf="employeeForm.get('id')?.errors?.['required']">El ID es obligatorio.</small>
    <small *ngIf="employeeForm.get('id')?.errors?.['pattern']">Formato de ID inválido (DNI/NIE).</small>
  </div>

  <label for="fullName">Nombre completo:</label>
  <input id="fullName" formControlName="fullName" type="text" />
  <div *ngIf="employeeForm.get('fullName')?.touched && employeeForm.get('fullName')?.invalid" class="error">
    <small>El nombre es obligatorio.</small>
  </div>

  <label for="login">Login:</label>
  <input id="login" formControlName="login" type="text" />
  <div *ngIf="employeeForm.get('login')?.touched && employeeForm.get('login')?.invalid" class="error">
    <small>El login es obligatorio.</small>
  </div>

  <label for="password">Contraseña:</label>
  <input id="password" formControlName="password" type="password" />
  <div *ngIf="employeeForm.get('password')?.touched && employeeForm.get('password')?.invalid" class="error">
    <small>La contraseña es obligatoria.</small>
  </div>

  <label for="departmentId">Departamento:</label>
  <select id="departmentId" formControlName="departmentId">
    <option value="" disabled>Seleccione un departamento</option>
    <option *ngFor="let dept of departments" [value]="dept.id">{{ dept.name }}</option>
  </select>
  <div *ngIf="employeeForm.get('departmentId')?.touched && employeeForm.get('departmentId')?.invalid" class="error">
    <small>Debe seleccionar un departamento.</small>
  </div>

  <button type="submit" [disabled]="employeeForm.invalid">
    Registrarse
  </button>

  <a routerLink="/login">¿Ya tienes cuenta? Inicia sesión</a>
</form>
