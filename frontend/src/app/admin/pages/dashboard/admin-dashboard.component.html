<div class="dashboard-container">
  <h1>Admin Dashboard</h1>

  <div *ngIf="error" class="error">{{ error }}</div>

  <!-- EMPLEADOS -->
  <section>
    <h2>Gestión de Empleados</h2>

    <form [formGroup]="employeeForm" (ngSubmit)="submitEmployeeForm()">
      <input type="text" placeholder="DNI" formControlName="id" />
      <input type="text" placeholder="Nombre" formControlName="name" />
      <input type="text" placeholder="Login" formControlName="login" />
      <input type="password" placeholder="Contraseña" formControlName="password" />
      <select formControlName="departmentId">
        <option *ngFor="let dept of departments" [value]="dept.id">{{ dept.name }}</option>
      </select>
      <button type="submit">{{ editingEmployeeId ? 'Actualizar' : 'Crear' }}</button>
    </form>

    <ul>
      <li *ngFor="let emp of employees">
        {{ emp.name }} - {{ emp.login }} ({{ emp.email }})
        <button (click)="editEmployee(emp)">Editar</button>
        <button (click)="deleteEmployee(emp.id)">Eliminar</button>
      </li>
    </ul>
  </section>

  <hr />

  <!-- DEPARTAMENTOS -->
  <section>
    <h2>Gestión de Departamentos</h2>

    <form [formGroup]="departmentForm" (ngSubmit)="submitDepartmentForm()">
      <input type="text" placeholder="Nombre" formControlName="name" />
      <input type="text" placeholder="Teléfono" formControlName="phone" />
      <input type="email" placeholder="Email" formControlName="email" />
      <button type="submit">{{ editingDepartmentId ? 'Actualizar' : 'Crear' }}</button>
    </form>

    <ul>
      <li *ngFor="let dept of departments">
        {{ dept.name }} - {{ dept.phone }}
        <button (click)="editDepartment(dept)">Editar</button>
        <button (click)="deleteDepartment(dept.id)">Eliminar</button>
      </li>
    </ul>
  </section>
</div>

